{% extends "h:templates/layouts/admin.html.jinja2" %}

{% set page_id = 'mailer' %}
{% set page_title = 'Mailer' %}

{% block content %}

{% if taskid %}
  <div class="alert alert-info js-alert-dismissable" role="alert">
    <button class="alert__close-button button button--text js-alert-close-button">
      <svg class="svg-icon icon-close alert__close-icon" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" aria-labelledby="icon-close-title">
        <title id="icon-close-title">Close</title>
        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
        <path d="M0 0h24v24H0z" fill="none"/>
      </svg>
    </button>
    Task submitted with ID: <code>{{ taskid }}</code>
  </div>
{% endif %}

<section class="card admin-form">
  <form method="POST" action="{{ request.route_path('admin.mailer_test') }}">
    <input type="hidden" name="csrf_token" value="{{ request.session.get_csrf_token() }}">
    <header class="card__header container">
      <h2 class="heading--medium">Send a test email</h2>
    </header>
    <div class="card__body container">
      <p class="form-input">
        <label class="form-input__label" for="recipient">Recipient</label>
        <input class="form-input__input has-label" id="recipient" type="text" name="recipient">
      </p>
      <p class="form-input">
        <input type="submit" class="button" value="Send">
      </p>
    </div>
  </form>
</section>

{% endblock %}
