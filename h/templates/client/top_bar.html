<!-- top bar for the sidebar and the stream.
!-->
<div class="top-bar" ng-class="frame.visible && 'shown'" ng-cloak>
  <!-- Legacy design for top bar, as used in the stream !-->
  <div class="top-bar__inner content" ng-if="::!isSidebar">
    <search-input
      class="search-input"
      query="searchController.query()"
      on-search="searchController.update($query)"
      always-expanded="true">
    </search-input>
    <div class="top-bar__expander"></div>
    <signin-control
      auth="auth"
      new-style="false"
      on-show-help-panel="onShowHelpPanel()"
      on-login="onLogin()"
      on-logout="onLogout()">
    </signin-control>
  </div>
  <!-- New design for the top bar, as used in the sidebar.

       The inner div is styled with 'content' to center it in
       the stream view.
  !-->
  <div class="top-bar__inner content" ng-if="::isSidebar">
    <group-list class="group-list" auth="auth"></group-list>
    <div class="top-bar__expander"></div>
    <search-input
      class="search-input"
      query="searchController.query()"
      on-search="searchController.update($query)"
      title="Filter the annotation list">
    </search-input>
    <sort-dropdown
      sort-keys-available="sortKeysAvailable"
      sort-key="sortKey"
      on-change-sort-key="onChangeSortKey({sortKey: sortKey})">
    </sort-dropdown>
    <a class="top-bar__btn"
       ng-click="onSharePage()"
       title="Share this page">
      <i class="h-icon-annotation-share"></i>
    </a>
    <signin-control
      class="signin-control"
      auth="auth"
      new-style="true"
      on-show-help-panel="onShowHelpPanel()"
      on-login="onLogin()"
      on-logout="onLogout()">
    </signin-control>
  </div>
</div>
