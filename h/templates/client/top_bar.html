<!-- top bar for the sidebar and the stream.
!-->
<div class="top-bar" ng-class="frame.visible && 'shown'" ng-cloak>
  <!-- Legacy design for top bar, as used in the stream !-->
  <div class="top-bar__inner content" ng-if="::!isSidebar">
    <simple-search
      class="simple-search"
      query="searchController.query"
      on-search="searchController.update(query)"
      on-clear="searchController.clear()"
      always-expanded="true">
    </simple-search>
    <div class="top-bar__expander"></div>
    <signin-control
      auth="auth"
      new-style="false"
      on-login="onLogin()"
      on-logout="onLogout()">
    </signin-control>
  </div>
  <!-- New design for the top bar, as used in the sidebar.

       The inner div is styled with 'content' to center it in
       the stream view.
  !-->
  <div class="top-bar__inner content" ng-if="::isSidebar">
    <group-list class="group-list u-fixed-size" auth="auth"></group-list>
    <div class="top-bar__expander"></div>
    <simple-search
      class="simple-search"
      query="searchController.query"
      on-search="searchController.update(query)"
      on-clear="searchController.clear()"
      title="Filter the annotation list">
    </simple-search>
    <sort-dropdown
      sort-options="sortOptions"
      sort-by="sortBy"
      show-as-icon="true"
      on-change-sort-by="onChangeSortBy({sortBy: sortBy})">
    </sort-dropdown>
    <a class="top-bar__btn"
       ng-click="shareDialog.visible = !shareDialog.visible"
       title="Share this page">
      <i class="h-icon-annotation-share"></i>
    </a>
    <signin-control
      class="u-fixed-size"
      auth="auth"
      new-style="true"
      on-login="onLogin()"
      on-logout="onLogout()">
    </signin-control>
  </div>
</div>
