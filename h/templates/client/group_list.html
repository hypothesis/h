<div ng-controller="GroupListController as ctrl" class="pull-right dropdown">
  <span role="button" class="dropdown-toggle" data-toggle="dropdown">
    <i ng-if="ctrl.focusedGroup().public"
       class="h-icon-public"></i>
    <i ng-if="ctrl.focusedGroup().private"
       class="h-icon-group"></i>
    <i ng-if="!(ctrl.focusedGroup().public || ctrl.focusedGroup().private)"
       class="h-icon-group"></i>
    {{ctrl.focusedGroup().name}}
    <i class="h-icon-arrow-drop-down"></i>
  </span>
  <ul class="dropdown-menu pull-right" role="menu">
    <li ng-repeat="group in ctrl.groups()"
        ng-class="group.id == ctrl.focusedGroup().id ? 'selected' : ''">
      <a class="group-name" href="" ng-click="ctrl.focusGroup(group.id)">
        <i ng-if="group.public" class="h-icon-public"></i>
        <i ng-if="group.private" class="h-icon-lock"></i>
        <i ng-if="!(group.public || group.private)" class="h-icon-group"></i>
        {{group.name}}
      </a>
      <a ng-href="{{group.url}}" ng-if="group.url"
         target="_blank" class="h-icon-link" title="Share this group"></a>
    </li>
    <li>
      <a href="/groups/new" target="_blank"><i class="h-icon-add"></i>
      New Group</a>
    </li>
  </ul>
</div>
